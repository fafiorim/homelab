apiVersion: v1
kind: ConfigMap
metadata:
  name: traefik-config
  namespace: traefik-system
data:
  traefik.yml: |
    api:
      dashboard: true
      insecure: true
    
    entryPoints:
      web:
        address: ":80"
      websecure:
        address: ":443"
    
    providers:
      kubernetesIngress:
        ingressClass: traefik
    
    certificatesResolvers:
      letsencrypt:
        acme:
          email: admin@botocudo.net
          storage: /data/acme.json
          dnsChallenge:
            provider: cloudflare
            delayBeforeCheck: 30
    
    log:
      level: INFO
    
    accessLog: {}